<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>注册登录界面</title>
  <link rel="stylesheet" href="login.css">
  <script src="../js/user.js"></script>
</head>
<body>
<div class="container right-panel-active">
  <!-- 注册 -->
  <div class="container_form container--signup">
    <form action="#" class="form" id="form1">
      <h2 class="form_title">Sign Up</h2>
      <input type="text" placeholder="Username" class="input" id="r_username"/>
      <input type="password" placeholder="Password" class="input" id="r_passwd" />
      <button class="btn" id="register">Sign Up</button>
    </form>
  </div>

  <!-- 登录 -->
  <div class="container_form container--signin">
    <form action="#" class="form" id="form2">
      <h2 class="form_title">Sign In</h2>
      <input type="text" placeholder="Username" class="input" id="l_username"/>
      <input type="password" placeholder="Password" class="input" id="l_passwd" />
      <a href="#" class="link">Forgot your password?</a>
      <button class="btn" id="login">Sign In</button>
    </form>
  </div>

  <!-- 浮层 -->
  <div class="container_overlay">
    <div class="overlay">
      <div class="overlay_panel overlay--left">
        <button class="btn" id="signIn">Sign In</button>
      </div>
      <div class="overlay_panel overlay--right">
        <button class="btn" id="signUp">Sign Up</button>
      </div>
    </div>
  </div>
</div>

<!-- 背景 -->
<div class="slidershow">
  <div class="slidershow--image" style="background-image: url('../img/b1.jpeg')"></div>
  <div class="slidershow--image" style="background-image: url('../img/b2.jpeg')"></div>
  <div class="slidershow--image" style="background-image: url('../img/b3.jpeg')"></div>
  <div class="slidershow--image" style="background-image: url('../img/b4.jpeg')"></div>
</div>

<!-- partial -->
<script >
  const signInBtn = document.getElementById("signIn");
  const signUpBtn = document.getElementById("signUp");
  const firstForm = document.getElementById("form1");
  const secondForm = document.getElementById("form2");
  const container = document.querySelector(".container");

  signInBtn.addEventListener("click", () => {
    container.classList.remove("right-panel-active");
  });

  signUpBtn.addEventListener("click", () => {
    container.classList.add("right-panel-active");
  });

  firstForm.addEventListener("submit", function(event) {
    // 阻止默认的提交行为
    event.preventDefault();
    const userInput = document.getElementById('r_username');
    const passwordInput = document.getElementById('r_passwd');

    register(userInput.value,passwordInput.value)
  });
  secondForm.addEventListener("submit", function(event) {
    // 阻止默认的提交行为
    event.preventDefault();
    const userInput = document.getElementById('l_username');
    const passwordInput = document.getElementById('l_passwd');

    login(userInput.value,passwordInput.value)
  });
</script>
</body>
</html>